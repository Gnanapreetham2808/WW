<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <title>DNAi Chatbot</title>
    <base href="/" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/site.css" />
    <link rel="stylesheet" href="css/chatbot.css" />
    <link href="css/app.css" rel="stylesheet" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.ico" />
</head>
<body>
    <div class="container mt-3">
        <h3 class="text-center">DNAi Chatbot</h3>

        <!-- Sample Queries -->
        <div id="sample-queries" class="d-flex flex-wrap my-3"></div>

        <!-- Chatbox -->
        <div id="chat-box" class="chat-container p-3 border rounded" style="height: 300px; overflow-y: auto;"></div>

        <!-- User Input -->
        <div class="input-group mt-3">
            <input id="user-input" type="text" class="form-control" placeholder="Type your message">
            <button onclick="sendMessage()" class="btn btn-primary">Send</button>
        </div>
    </div>

    <!-- Backend API Configuration -->
    <script>
        // Detect local or production environment
        const isLocal = window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1";
        window.backendUrl = isLocal ? "http://127.0.0.1:8000" : "https://api.dnaiworld.com";
        
        if (isLocal) {
            console.log("Running in local mode. Backend URL:", window.backendUrl);
        }
    </script>

    <!-- Chatbot Script -->
    <script src="js/chatbot.js"></script>
    <script src="_framework/blazor.webassembly.js"></script>
</body>
</html>
